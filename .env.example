# Bitcoin Digital Labor Derivative API - Environment Configuration
# Copy this file to .env and customize for your deployment

# ============================================
# Environment & Node Configuration
# ============================================

# Environment: development, staging, or production
# Controls logging verbosity and feature flags
BDLD_ENV=production

# Unique identifier for this node instance
# Auto-generated UUID if not specified
BDLD_NODE_ID=

# ============================================
# Server Configuration
# ============================================

# Port for the REST API server
# Default: 8080 (Render.com compatible)
BDLD_PORT=8080

# Log level: trace, debug, info, warn, error
# Recommended: info for production, debug for development
BDLD_LOG_LEVEL=info

# Rust log filter
# Controls which modules emit logs
RUST_LOG=info

# ============================================
# Security Configuration
# ============================================

# JWT secret for authentication (optional)
# Leave empty to disable JWT authentication (default)
# Generate with: openssl rand -hex 32
BDLD_JWT_SECRET=

# Enable/disable JWT authentication
# Default: false (authentication disabled)
BDLD_JWT_ENABLED=false

# ============================================
# Rate Limiting
# ============================================

# Maximum requests per minute per IP
# Default: 100
BDLD_RATE_LIMIT_PER_MINUTE=100

# ============================================
# CORS Configuration
# ============================================

# Enable Cross-Origin Resource Sharing
# Default: true
BDLD_CORS_ENABLED=true

# Allowed CORS origins (comma-separated)
# Use "*" for permissive mode (default)
BDLD_CORS_ORIGINS=*

# ============================================
# Bitcoin Network Configuration
# ============================================

# Initial block height for simulation
# Default: 800000 (approximate current height)
BDLD_INITIAL_BLOCK_HEIGHT=800000

# Initial pool balance in satoshis
# Default: 1000000000 (10 BTC)
BDLD_INITIAL_POOL_BALANCE=1000000000

# ============================================
# Derivative Model Parameters
# ============================================

# Maximum labor input per transaction (satoshis)
# Default: 100000000 (1 BTC)
BDLD_MAX_LABOR_INPUT_SATS=100000000

# Maximum staking duration (days)
# Default: 730 (2 years)
BDLD_MAX_DURATION_DAYS=730

# ============================================
# Render.com Specific (Optional)
# ============================================

# Render automatically sets PORT - this overrides it
# PORT=8080

# ============================================
# Notes
# ============================================
# 
# - No actual Bitcoin node is required - this API uses simulated/deterministic logic
# - All endpoints are read-only or bounded-write (safe for public deployment)
# - JWT authentication is optional and disabled by default
# - Rate limiting provides basic DDoS protection
# - This API is designed for Render.com's free tier but works anywhere
#
# For production deployment:
# 1. Set BDLD_ENV=production
# 2. Set a unique BDLD_NODE_ID
# 3. Configure BDLD_JWT_SECRET if you need authentication
# 4. Adjust rate limits based on your traffic
# 5. Keep BDLD_LOG_LEVEL=info to avoid excessive logging
